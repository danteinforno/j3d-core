<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>Proposed Java 3D 1.4 API Changes</title>
</head>
<body>
<h2>Proposed Java&nbsp;3D<sup><font size="-2">TM</font></sup> 1.4 API
Changes</h2>
<p>This page highlights the proposed changes to the 1.4 version of the
Java&nbsp;3D<sup><font size="-2">TM</font></sup> API. For a list of new
classes methods, etc., see the <a href="api-changes.html">List of
Proposed Java&nbsp;3D 1.4 API
Changes</a>. Click
<a href="http://javadesktop.org/java3d/javadoc/1.4.0-latest/index.html">here</a>
for the
<a href="http://javadesktop.org/java3d/javadoc/1.4.0-latest/index.html">latest
javadocs for the proposed 1.4 API</a> (built from the dev-1_4 branch).
A list of other <a href="improvements.html">possible improvements to
Java&nbsp;3D version 1.4</a> is also available.
</p>
<h3>I. High Priority Features</h3>
<p>This list of high priority features will almost certainly make it
into the 1.4 API.
</p>
<h4>1. Programmable shaders</h4>
<p>The addition of shaders to the Java&nbsp;3D API is the primary focus
for the 1.4. For more information see the <a href="shaders.html">Programmable
Shaders in Java&nbsp;3D 1.4</a> page.
</p>
<h4>2. Scene graph structure change listeners<br>
</h4>
<p>We propose to add a notification mechansim for scene graph structure
changes: additions, deletions, and
moves of branch graphs to/from a live scene graph. We propose
adding <code>add/removeGraphChangeListener(</code><code>GraphChangeListener</code><code>)</code>
methods to <code>VirtualUniverse</code> and a new <code>GraphChangeListener</code>
interface with <code>graphAdded</code>, <code>graphRemoved</code>,
and <code>graphMoved</code> methods that get called when any branch
graph is added (attached),
removed (detached), or moved, respectively.<br>
</p>
<h4>3. Miscellaneous features</h4>
<p>This is a list of miscellaneous features that we propose to add to
the API.
</p>
<ul>
  <li>Name string for all scene graph objects: add public <code>get/setName(String)</code>
to <code>SceneGraphObject</code> class</li>
  <li>Allow getParent() to be called on live/compiled scene graph: add
public <code>ALLOW_PARENT_READ</code> capability bit (default=<code>false</code>)
to <code>Node </code>class</li>
  <li>Additional blending functions, for example: <code>BLEND_SRC_COLOR,
BLEND_ONE_MINUS_SRC_COLOR, BLEND_DST_COLOR, BLEND_ONE_MINUS_DST_COLOR</code></li>
</ul>
<h4>4. List of features to deprecate</h4>
<p>This is a list of miscellaneous features that we propose to
deprecate in
the API.<br>
</p>
<ul>
  <li>Collision: <code>WakeupOnCollision{Entry,Exit,Movement}</code>
(misnamed, not useful for most applications)<br>
  </li>
  <li><code>CompressedGeometry</code> (no HW support, lack of industry
acceptance)</li>
  <li><code>WakeupOnAWTBehavior</code> (listeners + <code>WakeupOnBehaviorPost</code>
is more robust)</li>
  <li><code>Sensor</code> prediction (has never been implemented)<br>
  </li>
</ul>
<p>Note that none of these features will actually be removed. It
instead
reflects a decrease of emphasis on these features. While they should
continue
to function normally, no additional effort is likely to be put into
them (for example, compressed geometry will not be supported with
programmable shaders). This action paves the way to remove them from a
future major release (e.g., a 2.0 release).<br>
</p>
<h3>II. Medium Priority Features</h3>
<p>This list of medium priority features is under discussion for
possible inclusion
into the 1.4 API.
</p>
<h4>1. Render to texture<br>
</h4>
<p><span style="color: rgb(204, 0, 0); font-style: italic;">DESCRIPTION
FOR POSSIBLE RENDER-TO-TEXTURE SUPPORT GOES HERE...</span><br>
</p>
<h4>2. Stencil buffer support<br>
</h4>
<p><span style="color: rgb(204, 0, 0); font-style: italic;">DESCRIPTION
FOR POSSIBLE STENCIL SUPPORT GOES HERE; NOTE THAT THIS WILL NOT INCLUDE
ANY MULTIPASS EFFECTS for 1.4...</span><br>
</p>
<h4>3. Move picking into core</h4>
<p>We should consider moving some of the picking utilities (e.g.,
PickCanvas and PickResult)
into the core API. Before doing this, we would need to scope out the
effort involved, and assess the
potential benefit.<br>
</p>
<h4>4. Lightweight Canvas3D (e.g., JCanvas3D)</h4>
<p>We should consider adding a lightweight JCanvas3D that is similar to
JGLCanvas in JOGL. Adding this into core may be beyond the
scope of 1.4. Perhaps this can be done as a utility, although it
may require some core changes.</p>
<h4>5. Miscellaneous features</h4>
<p>This is a list of miscellaneous features that are being considered
for addition to
the API.<br>
</p>
<ul>
  <li>Add a new attribute for depth test function to
RenderingAttributes: public <code>get/setDepthTestFunction(int&nbsp;function)</code>
methods that takes as values one of: <code>ALWAYS, NEVER,
EQUAL, NOT_EQUAL, LESS, LESS_OR_EQUAL, GREATER, GREATER_OR_EQUAL</code>.
The default value would be <code>LESS_OR_EQUAL</code> for backward
compatibility.</li>
  <li>Non-power-of-two textures</li>
  <li>API support for&nbsp; retained alpha buffers</li>
  <li>Ability to query properties from a <code>GraphicsConfiguration</code></li>
  <li>Better support for off-screen configuration parameters (e.g., an
attribute in <code>GraphicsConfigTemplate3D</code> indicating whether
the requested <code>GraphicsConfiguration</code> is used for on-screen
rendering,
off-screen rendering, or both)<br>
  </li>
  <li>Method to retrieve the geometry data from the tessellation of a
glyph in a 3D font: a
public <code>GeometryArray&nbsp;getGlyphGeometry(</code><code>int&nbsp;glyphCode</code><code>)</code>
method in the <code>Font3D</code> class</li>
</ul>
<h4>6. List of features to deprecate</h4>
<p>This is a list of miscellaneous features that are being considered
for deprecation in
the API.<br>
</p>
<ul>
  <li><code>Billboard</code> (use <code>OrientedShape3D</code> instead)<br>
  </li>
  <li><code>SharedGroup</code> (many bugs, <em>very</em> difficult to
implement
efficiently)</li>
</ul>
<p>These are in addition to the API being proposed for deprecation in
section I.<br>
</p>
<h3><a name="Future_Features"></a>III. Future Features</h3>
<p>Here is an unprioritized list of possible features under
consideration for a future (e.g., 1.5/2.0)
version of the Java&nbsp;3D API.
</p>
<ul>
  <li>Multipass rendering</li>
  <li>Shadow map support</li>
  <li>Additional texture formats:
    <ul>
      <li>NIO buffer support</li>
      <li>Texture compression formats</li>
    </ul>
  </li>
  <li>Extensibility:
    <ul>
      <li>Access to the native context (JOGL integration)</li>
      <li>Geometry extensibility</li>
      <li>Additional node types (e.g., haptic rendering)</li>
      <li>Extensible geometry processing algorithms</li>
    </ul>
  </li>
  <li>Plug-in capability
    <ul>
      <li>Rendering Device Interface (pluggable renderers)</li>
      <li>Visibility structure</li>
    </ul>
  </li>
</ul>
<p><font color="gray">Page last updated &#8212;
$Date$
</font></p>
</body>
</html>
